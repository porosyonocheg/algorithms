package dynamicProgramming;

import org.junit.Test;

import java.util.*;

import static org.junit.Assert.assertEquals;

public class CheapestFlightsWithinKStopsTest {
    @Test
    public void getPrice() {
        assertEquals(50, new CheapestFlightsWithinKStops().getPrice(2, new int[][]{{0,1,50}},0,1,0));
        assertEquals(200, new CheapestFlightsWithinKStops().getPrice(3, new int[][]{{0,1,100},{1,2,100},{0,2,500}},0,2,1));
        assertEquals(500, new CheapestFlightsWithinKStops().getPrice(3, new int[][]{{0,1,100},{1,2,100},{0,2,500}},0,2,0));
        assertEquals(500, new CheapestFlightsWithinKStops().getPrice(4, new int[][]{{1,2,301},{1,3,200},{3,2,100},{0,3,500},{0,1,200}},0,2,2));
        assertEquals(501, new CheapestFlightsWithinKStops().getPrice(4, new int[][]{{1,2,301},{1,3,200},{3,2,100},{0,3,500},{0,1,200}},0,2,1));
        assertEquals(897, new CheapestFlightsWithinKStops().getPrice(5, new int[][]{{1,3,110},{2,1,158},{4,0,470},{0,2,348},{3,4,159},{1,0,800},{3,0,630}},2,0,3));
        assertEquals(898, new CheapestFlightsWithinKStops().getPrice(5, new int[][]{{1,3,110},{2,1,158},{4,0,470},{0,2,348},{3,4,159},{1,0,800},{3,0,630}},2,0,2));
        assertEquals(429, new CheapestFlightsWithinKStops().getPrice(10, new int[][]{{1,8,525},{5,4,293},{9,1,381},{6,2,153},{8,0,503},{7,3,179},{2,6,129},{3,8,410},{4,5,83},{3,7,132},{8,4,205},{7,9,543},{0,3,110},{1,0,367},{5,7,423},{9,6,548},{4,8,395},{6,5,238},{2,1,368},{3,2,75},{2,7,302},{5,0,115},{8,5,364},{0,9,173},{2,3,532},{1,2,268},{7,4,248},{6,7,278},{3,9,78},{4,6,269},{5,8,300},{7,6,250}},5,6,4));
        assertEquals(-1, new CheapestFlightsWithinKStops().getPrice(13, new int[][]{{11,12,74},{1,8,91},{4,6,13},{7,6,39},{5,12,8},{0,12,54},{8,4,32},{0,11,4},{4,0,91},{11,7,64},{6,3,88},{8,5,80},{11,10,91},{10,0,60},{8,7,92},{12,6,78},{6,2,8},{4,3,54},{3,11,76},{3,12,23},{11,6,79},{6,12,36},{2,11,100},{2,5,49},{7,0,17},{5,8,95},{3,9,98},{8,10,61},{2,12,38},{5,7,58},{9,4,37},{8,6,79},{9,0,1},{2,3,12},{7,10,7},{12,10,52},{7,2,68},{12,2,100},{6,9,53},{7,4,90},{0,5,43},{11,2,52},{11,8,50},{12,4,38},{7,9,94},{2,7,38},{3,7,88},{9,12,20},{12,0,26},{10,5,38},{12,8,50},{0,2,77},{11,0,13},{9,10,76},{2,6,67},{5,6,34},{9,7,62},{5,3,67}},10,1,10));
        assertEquals(787, new CheapestFlightsWithinKStops().getPrice(24, new int[][]{{16,12,445},{6,11,412},{5,14,502},{10,13,308},{3,10,298},{2,16,352},{11,9,178},{18,3,75},{12,17,540},{23,4,235},{7,23,128},{9,7,168},{19,5,545},{1,0,522},{4,15,264},{14,20,463},{17,24,63},{22,19,314},{13,22,263},{21,18,384},{0,21,187},{8,1,252},{15,6,409},{20,8,259},{18,9,280},{0,6,484},{4,10,413},{13,14,483},{1,12,140},{14,16,59},{16,4,82},{5,21,267},{10,18,368},{3,0,307},{17,23,474},{22,15,300},{20,13,384},{15,11,387},{2,22,464},{23,5,444},{11,3,254},{21,19,179},{12,20,449},{8,7,426},{6,8,487},{19,2,81},{7,17,243},{9,1,543},{4,16,243},{15,12,80},{17,19,520},{22,4,540},{21,23,394},{1,3,98},{20,22,50},{19,11,141},{8,14,192},{23,18,211},{6,21,306},{7,0,146},{13,2,348},{11,1,283},{2,6,401},{16,9,114},{0,15,157},{9,8,379},{5,7,241},{18,5,345},{6,0,394},{7,20,107},{2,12,145},{16,7,282},{18,11,544},{9,3,104},{20,24,137},{8,22,425},{21,10,86},{22,21,434},{3,1,61},{17,15,535},{19,18,408},{3,13,83},{12,6,111},{15,9,151},{1,4,87},{14,17,478},{10,2,339},{11,5,418},{5,19,205},{0,8,225},{19,6,219},{1,2,272},{15,7,534}},3,24,3));
        assertEquals(0, new CheapestFlightsWithinKStops().getPrice(50, new int[][]{{0,1}},0,1,1));
        assertEquals(0, new CheapestFlightsWithinKStops().getPrice(100, new int[][]{{0,1}},0,1,1));
    }
    @Test
    public void replace() {
        String s = "{5,44,482},{23,47,71},{48,16,129},{36,13,115},{14,9,233},{35,43,254},{3,15,83},{12,21,405},{10,38,394},{42,48,513},{21,40,256},{34,5,365},{25,41,57},{47,37,332},{8,6,126},{31,25,263},{6,10,163},{30,8,214},{17,12,424},{16,11,469},{22,34,547},{13,23,438},{45,32,168},{38,36,314},{20,31,269},{11,14,335},{37,35,536},{46,26,261},{33,28,464},{1,7,239},{4,49,163},{43,3,447},{39,33,312},{44,46,389},{32,20,155},{9,4,465},{7,27,394},{0,30,176},{41,2,433},{2,19,304},{49,1,318},{27,22,263},{18,39,517},{19,18,249},{24,0,471},{40,17,312},{26,24,466},{29,42,96},{15,45,135},{28,29,160},{31,44,449},{45,8,461},{48,0,473},{29,18,546},{47,40,319},{17,33,59},{42,2,530},{35,9,149},{32,43,116},{37,10,251},{15,39,478},{24,36,446},{23,37,76},{26,47,332},{41,3,224},{25,42,135},{30,41,85},{33,15,437},{2,31,374},{1,14,98},{6,30,435},{12,26,179},{14,12,231},{4,38,199},{28,48,370},{43,23,79},{49,11,142},{5,16,443},{21,22,148},{27,5,65},{44,28,482},{8,45,357},{34,24,213},{7,6,359},{46,4,477},{9,46,260},{38,49,121},{3,35,269},{16,19,345},{0,20,433},{11,27,498},{22,29,494},{20,32,392},{40,25,517},{39,34,145},{18,17,301},{10,7,283},{13,21,374},{19,1,318},{39,47,508},{0,37,141},{4,5,492},{2,25,331},{30,13,535},{19,10,504},{8,20,422},{33,3,331},{47,44,361},{44,40,349},{42,12,152},{15,41,462},{29,6,98},{35,4,95},{48,23,230},{36,31,182},{31,45,507},{24,7,424},{5,24,419},{32,30,76},{20,34,160},{34,49,250},{43,48,94},{26,1,375},{41,39,119},{11,0,407},{13,11,80},{37,14,255},{38,15,419},{40,18,327},{27,16,129},{25,27,112},{3,21,311},{10,28,79},{49,43,208},{46,22,182},{16,17,190},{45,9,91},{1,26,321},{28,2,253},{17,42,342},{22,8,221},{7,36,110},{14,32,191},{9,29,117},{23,38,144},{18,35,522},{21,33,153},{6,46,392},{12,19,101},{47,41,419},{6,33,115},{19,26,190},{14,10,136},{42,29,72},{49,28,270},{24,15,123},{7,11,351},{37,30,78},{30,17,407},{20,3,322},{29,0,505},{34,27,373},{3,12,67},{12,1,388},{13,24,534},{44,25,108},{21,8,114},{48,32,419},{27,6,99},{23,13,347},{25,35,350},{10,14,541},{28,4,320},{2,38,149},{17,22,390},{15,34,463},{11,45,173},{1,39,341},{26,7,302},{0,23,454},{39,44,332},{22,19,404},{5,31,401},{46,48,268},{43,46,374},{18,43,176},{33,47,115},{36,42,460},{40,36,323},{38,37,241},{35,21,60},{31,40,192},{8,5,439},{16,9,145},{9,18,227},{45,16,65},{0,16,491},{31,21,327},{7,12,189},{20,29,220},{14,43,477},{42,25,408},{22,0,324},{8,36,404},{2,49,351},{21,32,298},{34,37,287},{17,20,441},{6,35,325},{32,11,344},{28,1,352},{16,3,530},{44,9,217},{12,48,92},{30,44,269},{40,38,79},{9,27,71},{33,7,549},{45,34,451},{23,22,266},{3,47,467},{5,39,189},{38,28,96},{43,24,375},{49,10,504},{10,31,297},{35,46,316},{11,17,454},{39,14,380},{24,41,151},{48,15,403},{46,19,206},{36,4,337},{41,40,401},{26,42,134},{27,13,90},{15,5,494},{47,26,450},{4,2,315},{1,8,492},{18,33,189},{19,45,542},{25,30,364},{37,6,413},{24,21,496},{20,28,217},{16,12,284},{28,35,540},{6,25,450},{44,3,250},{27,32,251},{43,27,197},{49,6,361},{31,0,159},{41,5,410},{18,41,110},{23,42,246},{36,29,356},{9,48,88},{2,24,76},{48,13,498},{19,37,530},{4,16,310},{0,38,118},{22,49,390},{25,23,353},{37,8,378},{12,46,374},{1,36,358},{17,19,151},{34,17,260},{40,22,495},{38,7,275},{26,45,229},{29,15,158},{30,43,539},{14,47,536},{35,2,103},{39,9,422},{8,26,377},{3,18,354},{42,20,469},{13,30,369},{7,1,405},{33,40,544},{10,39,359},{15,10,124},{23,12,392},{47,4,413},{44,16,521},{16,10,313},{3,22,111},{26,23,61},{11,44,210},{1,11,261},{0,48,467},{28,18,516},{8,27,197},{49,42,312},{5,37,178},{17,26,70},{32,17,511},{24,3,541},{6,39,184},{43,25,108},{31,33,538},{30,1,354},{41,38,304},{48,9,446},{14,40,356},{34,13,381},{20,21,331},{35,34,376},{40,35,359},{38,19,117},{33,29,125},{21,31,156},{36,28,441},{29,8,430},{22,45,456},{42,5,115},{45,24,280},{39,20,382},{4,46,279},{25,0,382},{13,2,489},{7,41,284},{12,7,305},{2,32,459},{15,36,176},{19,49,479},{18,6,234},{46,43,477},{9,15,252},{27,47,115},{35,31,197},{9,7,457},{29,11,120},{12,35,545},{45,46,498},{39,45,316},{40,15,190},{42,27,516},{48,38,485},{2,22,111},{18,28,504},{32,24,464},{25,4,402},{20,1,208},{17,32,106},{16,29,54},{3,40,389},{19,0,114},{34,9,150},{22,18,534},{4,44,332},{44,42,168},{8,2,105},{7,37,76},{46,14,109},{11,6,138},{13,36,359},{14,25,478},{24,13,358},{21,10,479},{33,17,363},{5,30,499},{38,12,249},{6,8,177},{37,41,452},{23,34,84},{0,49,370},{36,48,81},{10,21,365},{47,16,396},{27,3,214},{31,26,539},{30,20,498},{41,19,359},{43,5,427},{1,33,480},{28,47,333},{21,4,347},{19,46,359},{26,13,229},{14,38,547},{4,37,219},{24,27,187},{25,47,453},{46,36,239},{38,18,126},{44,0,301},{42,49,92},{32,1,295},{39,29,348},{9,39,362},{40,28,489},{23,48,396},{27,15,430},{31,20,431},{10,30,188},{15,23,263},{11,21,508},{12,34,316},{47,5,509},{18,9,268},{5,25,490},{36,6,273},{0,44,527},{6,17,164},{35,24,183},{28,26,514},{8,22,540},{22,33,226},{34,40,499},{17,3,481},{30,7,379},{43,10,279},{20,19,71},{1,32,173},{2,45,144},{16,41,151},{13,42,458},{41,12,389},{7,31,548},{3,2,286},{33,14,79},{16,39,82},{8,14,515},{5,22,379},{24,9,138},{6,42,128},{43,38,69},{49,46,93},{25,29,80},{48,45,191},{30,23,314},{22,10,100},{41,27,476},{15,21,489},{45,7,457},{26,34,383},{9,49,322},{2,3,188},{39,30,387},{0,19,493},{37,31,380},{42,44,300},{23,26,234},{11,4,163},{35,17,520},{1,0,407},{32,40,197},{31,13,441},{36,24,511},{19,41,232},{10,11,110},{4,20,286},{18,16,253},{29,1,539},{47,12,367},{33,48,352},{12,5,249},{38,32,71},{13,18,283},{17,43,473},{34,2,453},{40,47,250},{14,33,397},{4,6,200},{22,28,171},{16,32,101},{33,34,485},{21,14,61},{17,11,368},{46,2,409},{41,42,222},{12,31,51},{19,5,505},{35,29,399},{26,35,511},{27,49,268},{24,8,522},{3,45,293},{14,0,423},{25,3,426},{1,41,126},{2,21,432},{48,47,79},{37,23,423},{31,36,304},{30,39,216},{45,38,488},{38,26,537},{20,17,316},{43,12,504},{40,10,523},{11,13,224},{7,19,471},{10,27,204},{15,46,208},{23,40,493},{28,9,99},{18,25,204},{39,15,416},{44,32,212},{8,10,443},{2,40,413},{9,37,347},{43,2,248},{10,13,126},{25,38,136},{29,47,375},{41,20,280},{45,3,410},{46,34,152},{34,43,409},{0,1,153},{37,15,174},{1,31,349},{26,0,391},{15,11,152},{6,41,403},{16,46,470},{47,17,414},{14,16,124},{3,4,467},{27,30,489},{31,23,188},{32,8,398},{21,19,82},{7,5,418},{36,25,236},{4,42,57},{19,9,164},{39,28,333},{49,7,211},{35,26,173},{40,45,148},{28,33,183},{5,14,178},{20,18,221},{48,24,446},{31,11,504},{19,8,483},{37,13,500},{9,31,384},{5,46,466},{21,38,73},{11,1,531},{49,3,299},{3,26,245},{36,30,188},{17,28,524},{45,21,476},{27,37,59},{25,43,354},{4,32,189},{12,15,189},{41,23,320},{32,49,481},{7,25,323},{2,0,385},{47,18,214},{44,10,122},{23,5,321},{40,24,468},{35,40,166},{18,45,116},{33,19,437},{48,36,140},{26,17,541},{20,39,394},{15,9,366},{30,16,459},{13,34,112},{38,27,138},{0,22,455},{29,7,106},{28,42,260},{1,20,338},{43,35,90},{10,44,292},{13,19,546},{20,42,507},{48,43,89},{33,41,336},{36,27,300},{10,8,402},{26,10,227},{12,28,225},{21,0,76},{5,33,130},{32,15,289},{0,35,293},{18,21,317},{2,39,396},{47,30,386},{9,6,241},{40,48,351},{4,25,414},{43,44,114},{31,9,329},{8,49,370},{17,45,209},{11,40,447},{49,4,414},{22,26,302},{30,18,79},{3,24,149},{41,46,442},{38,2,98},{44,20,436},{23,29,362},{37,11,87},{29,12,234},{16,22,99},{6,16,416},{28,13,447},{7,32,353},{45,17,362},{39,7,325},{23,17,105},{41,44,293},{47,1,237},{13,7,350},{44,13,333},{10,34,412},{43,6,346},{29,28,469},{25,39,401},{26,12,462},{17,24,307},{42,26,522},{48,30,205},{18,38,459},{1,18,262},{7,14,319},{24,47,410},{28,16,377},{9,42,391},{0,36,422},{45,49,310},{14,2,209},{11,48,329},{6,40,392},{40,46,381},{22,21,368},{39,41,370},{34,23,247},{19,32,310},{4,31,125},{3,20,215},{38,0,444},{32,37,298},{33,10,258},{2,8,251},{30,45,259},{21,43,61},{7,15,336},{31,24,500},{38,3,475},{35,0,235},{17,14,74},{46,37,421},{10,9,394},{27,44,286},{34,7,467},{8,34,141},{9,41,279},{39,36,106},{37,16,464},{19,11,539},{32,19,448},{40,20,162},{5,13,241},{1,46,266},{26,48,372},{4,30,382},{13,10,219},{44,26,445},{24,22,266},{6,32,479},{41,6,304},{0,40,193},{48,49,338},{20,35,491},{43,47,434},{28,21,67},{23,27,516},{3,31,106},{33,2,389},{11,33,245},{10,16,195},{7,4,216},{37,24,470},{34,0,432},{8,15,216},{43,49,192},{49,41,523},{0,42,527},{24,10,547},{17,27,67},{38,17,499},{31,34,527},{39,22,352},{29,32,96},{3,7,131},{5,38,458},{9,3,393},{48,46,183},{27,43,538},{14,36,366},{30,31,502},{19,23,193},{33,20,513},{22,11,491},{46,6,92},{11,28,489},{42,45,506},{1,44,249},{15,13,54},{21,1,337},{16,48,274},{6,47,64},{12,37,121},{4,39,427},{25,21,468},{32,33,324},{40,14,188},{18,30,350},{20,12,441},{2,18,462},{45,2,367},{36,35,221},{41,8,336},{26,5,190},{37,9,450},{48,4,79},{19,16,111},{3,23,375},{4,40,337},{41,31,251},{12,8,448},{16,49,405},{42,6,348},{23,18,144},{21,20,95},{13,1,98},{24,43,289},{6,27,246},{2,14,57},{36,33,379},{18,26,542},{35,48,160},{11,46,156},{38,35,400},{17,21,398},{7,13,130},{26,38,376},{34,22,266},{10,5,312},{9,11,311},{47,29,67},{14,15,247},{8,41,230},{1,30,460},{30,19,481},{39,3,98},{0,28,122},{12,43,307},{6,26,329},{41,28,178},{44,12,380},{35,45,57},{48,5,460},{3,0,503},{11,39,217},{43,41,357},{47,48,515},{30,38,257},{18,8,295},{42,10,516},{38,20,358},{5,4,525},{2,27,316},{21,18,432},{24,17,354},{49,21,143},{45,30,392},{22,36,440},{20,13,69},{15,37,119},{1,3,102},{40,34,204},{26,40,249},{36,9,460},{27,42,231},{16,6,346},{28,49,457},{23,24,96},{34,33,299},{25,31,186},{8,32,102},{9,19,267},{35,6,125},{23,45,319},{7,10,115},{5,21,346},{30,3,307},{8,9,209},{17,31,400},{33,5,544},{18,24,177},{13,22,131},{4,15,299},{9,25,346},{40,16,433},{36,44,510},{39,40,152},{44,47,246},{46,7,384},{26,20,144},{32,36,193},{24,4,61},{34,1,419},{16,14,313},{3,39,425},{20,43,103},{47,28,544},{48,11,456},{6,48,280},{49,35,462},{22,17,83},{0,2,439},{45,29,292},{28,34,458},{2,37,362},{27,19,372},{30,32,246},{21,3,546},{23,6,509},{6,44,63},{42,11,185},{8,42,78},{14,18,242},{4,7,405},{43,36,430},{25,40,313},{13,48,351},{12,0,412},{19,29,239},{49,34,464},{10,23,395},{15,28,127},{16,5,493},{1,22,345},{28,14,435},{2,15,270},{37,47,352},{18,27,369},{36,39,525},{7,17,347},{46,33,76},{11,31,195},{33,38,490},{31,46,331},{24,12,304},{5,43,285},{17,1,454},{29,10,169},{20,30,375},{32,26,466},{41,21,425},{26,19,531},{34,16,404},{14,45,350},{5,35,199},{44,18,159},{17,49,137},{15,2,54},{32,25,236},{25,5,119},{46,44,268},{13,28,215},{48,34,128},{10,48,436},{36,1,269},{49,12,178},{31,47,220},{12,24,387},{9,32,441},{33,37,540},{16,7,436},{29,23,144},{22,40,315},{8,29,423},{26,22,318},{7,39,535},{43,20,212},{2,13,423},{24,31,338},{4,17,396},{28,3,223},{23,33,158},{47,46,517},{1,15,358},{45,10,91},{35,30,187},{44,7,454},{49,22,379},{36,16,435},{41,32,331},{19,40,391},{15,44,487},{30,48,548},{34,41,73},{38,46,540},{25,11,462},{32,3,453},{5,20,226},{12,36,451},{14,5,99},{21,37,233},{42,17,506},{40,21,302},{10,49,260},{11,34,167},{46,18,439},{17,8,139},{43,14,102},{2,23,513},{45,25,245},{47,42,165},{13,43,226},{22,13,359},{20,10,432},{1,4,385},{29,9,440},{48,33,315},{5,9,328},{30,49,518},{36,46,487},{29,21,398},{7,44,136},{40,13,310},{37,40,292},{15,16,356},{48,20,376},{12,29,541},{27,28,250},{6,24,311},{18,42,238},{38,34,248},{21,41,546},{17,4,489},{1,45,408},{14,31,384},{28,43,231},{13,26,491},{31,2,365},{44,22,416},{32,23,76},{35,10,497},{10,25,493},{24,37,57},{3,1,184},{16,35,455},{11,5,545},{34,11,163},{23,15,459},{19,12,334},{49,33,136},{4,9,53},{40,49,250},{6,31,197},{33,26,416},{27,21,362},{44,48,401},{38,4,373},{3,46,471},{2,35,310},{32,5,433},{11,32,276},{13,45,310},{10,47,137},{46,29,265},{12,23,410},{7,38,413},{26,39,282},{1,19,185},{37,36,443},{45,22,435},{49,30,247},{48,8,219},{8,24,253},{29,41,83},{14,17,487},{21,27,150},{20,33,190},{47,0,521},{39,2,542},{47,34,141},{40,41,381},{20,38,428},{25,8,530},{17,16,304},{3,28,279},{41,4,417},{24,14,90},{19,13,61},{15,43,249},{39,11,74},{23,30,241},{13,39,289},{32,9,396},{2,48,255},{46,12,139},{5,10,521},{21,42,484},{30,47,101},{6,5,164},{44,15,429},{1,35,209},{8,37,404},{14,29,231},{22,1,370},{12,18,290},{29,2,528},{10,42,290},{6,20,474},{29,19,254},{30,11,91},{46,13,420},{17,40,149},{9,43,64},{26,9,431},{14,6,525},{5,27,308},{45,41,164},{3,48,164},{28,22,150},{8,1,323},{1,29,291},{18,36,259},{0,47,518},{7,8,430},{25,2,418},{31,5,113},{24,49,476},{47,45,252},{20,24,451},{23,3,496},{36,14,114},{43,17,170},{4,35,371},{16,25,87},{2,34,464},{35,37,424},{39,12,289},{40,33,492},{42,32,297},{48,39,228},{3,6,498},{15,8,261},{20,45,180},{8,21,93},{5,42,406},{22,41,371},{0,32,128},{9,10,224},{28,40,363},{35,20,52},{23,43,355},{39,37,81},{48,22,274},{32,12,73},{43,11,308},{27,36,103},{4,0,486},{1,47,278},{41,33,411},{36,26,148},{19,15,402},{30,14,200},{24,16,115},{40,31,348},{30,27,384},{36,20,517},{47,14,153},{40,30,442},{24,45,481},{8,44,465},{1,10,91},{3,38,74},{45,48,197},{6,21,503},{42,9,80},{5,6,166},{27,35,493},{0,29,173},{2,46,487},{31,49,215},{25,26,431},{28,24,74},{43,1,365},{10,37,240},{2,12,382},{25,14,274},{18,23,82},{11,19,135},{30,40,477},{17,10,256},{33,49,207},{32,44,347},{20,22,494},{24,35,169},{15,1,145},{0,45,108},{28,39,192},{29,36,233},{8,28,360},{31,30,376},{46,24,142},{35,18,64},{4,26,391},{37,3,262},{49,25,438},{20,0,73},{29,20,286},{5,18,408},{4,28,263},{16,8,298},{30,42,468},{18,48,177},{49,17,132},{35,47,168},{17,30,488},{46,1,515},{42,21,269},{7,23,196},{48,44,61},{10,6,481},{47,13,448},{1,38,537},{32,39,217},{31,7,263},{37,2,296},{21,24,109},{39,32,407},{41,36,385},{15,12,460},{11,15,190},{44,43,370},{38,25,429},{34,25,225},{44,21,460},{10,33,63},{5,40,252},{4,23,143},{11,26,450},{15,14,515},{41,30,92},{13,37,411},{31,10,200},{14,41,449},{47,38,391},{46,5,246},{2,17,188},{16,42,109},{30,35,343},{43,8,246},{19,31,234},{17,2,285},{0,4,417},{9,0,215},{21,9,107},{1,40,92},{41,1,531},{35,49,259},{7,22,492},{5,48,182},{17,23,124},{44,2,433},{37,12,292},{24,25,183},{27,26,535},{9,13,105},{4,14,429},{8,35,249},{38,44,461},{19,17,203},{33,36,408},{26,6,312},{14,3,237},{42,8,416},{16,4,406},{12,16,233},{0,43,299},{18,49,484},{29,33,505},{2,44,249},{22,2,432},{48,40,96},{16,31,464},{45,43,314},{26,11,342},{0,10,62},{9,34,74},{49,20,119},{33,45,87},{11,9,307},{4,3,202},{14,46,304},{43,26,116},{12,32,425},{42,4,57},{39,25,133},{37,42,465},{8,16,458},{13,17,529},{44,29,127},{21,36,131},{24,19,248},{30,46,203}";
        System.out.println(s.replace('{','[').replace('}',']'));
    }

    @Test
    public void replaceII() {
        String s = "[[16,12,445],[6,11,412],[5,14,502],[10,13,308],[3,10,298],[2,16,352],[11,9,178],[18,3,75],[12,17,540],[23,4,235],[7,23,128],[9,7,168],[19,5,545],[1,0,522],[4,15,264],[14,20,463],[17,24,63],[22,19,314],[13,22,263],[21,18,384],[0,21,187],[8,1,252],[15,6,409],[20,8,259],[18,9,280],[0,6,484],[4,10,413],[13,14,483],[1,12,140],[14,16,59],[16,4,82],[5,21,267],[10,18,368],[3,0,307],[17,23,474],[22,15,300],[20,13,384],[15,11,387],[2,22,464],[23,5,444],[11,3,254],[21,19,179],[12,20,449],[8,7,426],[6,8,487],[19,2,81],[7,17,243],[9,1,543],[4,16,243],[15,12,80],[17,19,520],[22,4,540],[21,23,394],[1,3,98],[20,22,50],[19,11,141],[8,14,192],[23,18,211],[6,21,306],[7,0,146],[13,2,348],[11,1,283],[2,6,401],[16,9,114],[0,15,157],[9,8,379],[5,7,241],[18,5,345],[6,0,394],[7,20,107],[2,12,145],[16,7,282],[18,11,544],[9,3,104],[20,24,137],[8,22,425],[21,10,86],[22,21,434],[3,1,61],[17,15,535],[19,18,408],[3,13,83],[12,6,111],[15,9,151],[1,4,87],[14,17,478],[10,2,339],[11,5,418],[5,19,205],[0,8,225],[19,6,219],[1,2,272],[15,7,534]]";
        System.out.println(s.replace('[','{').replace(']','}'));
    }

    @Test
    public void g() {
        int n = 50;
        int ways = /*Math.max(n, (int)(Math.random()(*/n * (n - 1) / 2;//) + 1));
        int[][] pairs = new int[ways][2];
        List<Integer> sample = new ArrayList<>();
        for (int i = 0; i < n; i++) sample.add(i);
        Set<Pair> set = new HashSet<>();
        for (int j = 0; j < ways;) {
            List<Integer> srcList = new ArrayList<>(sample);
            List<Integer> dstList = new ArrayList<>(sample);
            Collections.shuffle(srcList);
            Collections.shuffle(dstList);
            for (int i = 0; i < n && j < ways; i++) {
                int src = srcList.remove(0);
                int dst = dstList.get(0) == src ? dstList.remove(1) : dstList.remove(0);
                Pair newPair = new Pair(src, dst);
                if (set.add(newPair)) {
                    pairs[j][0] = src;
                    pairs[j][1] = dst;
                    j++;
                }
            }
        }
        for (int i = 0; i < ways; i++)
        System.out.print("{" + pairs[i][0] + "," + pairs[i][1] + "," + (int)(Math.random()*500+50) + "},");
    }
    private class Pair {
        private final int src;
        private final int dst;

        public Pair(int src, int dst) {
            this.src = src;
            this.dst = dst;
        }

        @Override
        public boolean equals(Object o) {
            if (this == o) return true;
            if (!(o instanceof Pair)) return false;
            Pair pair = (Pair) o;
            return (src == pair.src && dst == pair.dst) || (dst == pair.src && src == pair.dst);
        }

        @Override
        public int hashCode() {
            return Objects.hash(src, dst);
        }
    }
}
