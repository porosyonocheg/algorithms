package dynamicProgramming;

import org.junit.Test;

import java.util.Arrays;
import java.util.Collections;

import static org.junit.Assert.assertEquals;

public class DifferentWaysToAddParenthesesTest {
    @Test
    public void compute() {
        assertEquals(Collections.singletonList(6), new DifferentWaysToAddParentheses().сompute("6"));
        assertEquals(Collections.singletonList(17), new DifferentWaysToAddParentheses().сompute("12+5"));
        assertEquals(Arrays.asList(31,36), new DifferentWaysToAddParentheses().сompute("1+5*6"));
        assertEquals(Arrays.asList(-44,-134,40,-56,28), new DifferentWaysToAddParentheses().сompute("13-15+6*7"));
        assertEquals(Arrays.asList(18,15,-31,9,-19,-14,-11,32,0,15,-13,-5,23,3), new DifferentWaysToAddParentheses().сompute("9-7-2*5+3"));
        assertEquals(Arrays.asList(62,57,167,57,147,-98,-93,-78,-238,47,137,-93,-73,-213,-14,-15,7,-15,3,-34,-33,-46,-45,-78,-238,-238,-174,-270,51,141,-89,-69,-209,-17,1,-33,-45,-69,-209,-209,-153,-237,36,33,99,33,87,-60,-57,-48,-144,27,81,-57,-45,-129,-52,-51,-73,-51,-69,-40,-39,-61,-39,-57,-2,-3,-14,-15,4,3,-20,-21,-8,-9,-64,-224,-224,-160,-256,-48,-144,-304,-208,-128,-224,-80,-272,-176,53,143,-87,-67,-207,-15,3,-31,-43,-67,-207,-207,-151,-235,31,85,-53,-41,-125,-49,-67,-37,-55,-3,-15,3,-21,-9,-55,-195,-195,-139,-223,-41,-125,-265,-181,-111,-195,-69,-237,-153), new DifferentWaysToAddParentheses().сompute("2-5*7-3+2*7+1"));
        assertEquals(Arrays.asList(45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45), new DifferentWaysToAddParentheses().сompute("1+2+3+4+5+6+7+8+9"));
        assertEquals(Arrays.asList(50, 46, 50, 46, 46, 18, 22, -10, 18, 50, 50, 22, -6, 22, 50, 46, 50, 46, 46, 18, 22, 18, 22, -10, 18, -10, 18, 18, 50, 50, 22, -6, 22, 50, 50, 22, 22, -6, 22, -6, 22, 22, -18, -14, -18, -14, -14, 14, 10, 42, 14, -18, -18, 10, 38, 10, 32, 36, 32, 36, 36, -18, -14, -18, -14, -14, 50, 46, 50, 46, 14, 10, 64, 60, 14, 10, 50, 78, 50, 78, 78, 42, 14, 92, 42, 50, 50, 14, 64, 14, 46, 46, 18, -10, 18, 46, 46, 18, 18, -10, 18, -10, 18, 18, -18, -18, 10, 38, 10, 32, 32, -18, -18, 46, 46, 10, 60, 10, 46, 74, 46, 74, 74, 38, 10, 88, 38, 46, 46, 10, 60, 10, 50, 46, 50, 46, 46, 18, 22, -10, 18, 50, 50, 22, -6, 22, 50, 46, 50, 46, 46, 18, 22, 18, 22, -10, 18, -10, 18, 18, 50, 50, 22, -6, 22, 50, 50, 22, 22, -6, 22, -6, 22, 22, -18, -14, -18, -14, -14, 14, 10, 42, 14, -18, -18, 10, 38, 10, -18, -14, -18, -14, -14, 14, 10, 42, 14, -18, -18, 10, 38, 10, 32, 36, 32, 36, 36, -18, -14, -18, -14, -14, 32, 36, 32, 36, 36, -18, -14, -18, -14, -14, -18, -14, -18, -14, -14, 50, 46, 50, 46, 14, 10, 64, 60, 14, 10, 50, 46, 50, 46, 14, 10, 14, 10, 64, 60, 14, 10, 64, 60, 14, 10, 14, 10, 50, 78, 50, 78, 78, 42, 14, 92, 42, 50, 50, 14, 64, 14, 50, 78, 50, 78, 78, 42, 14, 42, 14, 92, 42, 92, 42, 42, 50, 50, 14, 64, 14, 50, 50, 14, 14, 64, 14, 64, 14, 14, 46, 46, 18, -10, 18, 46, 46, 18, 18, -10, 18, -10, 18, 18, -18, -18, 10, 38, 10, 32, 32, -18, -18, 46, 46, 10, 60, 10, 46, 74, 46, 74, 74, 38, 10, 88, 38, 46, 46, 10, 60, 10, 46, 46, 18, -10, 18, 46, 46, 18, 18, -10, 18, -10, 18, 18, -18, -18, 10, 38, 10, -18, -18, 10, 38, 10, 32, 32, -18, -18, 32, 32, -18, -18, -18, -18, 46, 46, 10, 60, 10, 46, 46, 10, 10, 60, 10, 60, 10, 10, 46, 74, 46, 74, 74, 38, 10, 88, 38, 46, 46, 10, 60, 10, 46, 74, 46, 74, 74, 38, 10, 38, 10, 88, 38, 88, 38, 38, 46, 46, 10, 60, 10, 46, 46, 10, 10, 60, 10, 60, 10, 10, -36, -32, -36, -32, -32, -4, -8, 24, -4, -36, -36, -8, 20, -8, -36, -32, -36, -32, -32, -4, -8, -4, -8, 24, -4, 24, -4, -4, -36, -36, -8, 20, -8, -36, -36, -8, -8, 20, -8, 20, -8, -8, 32, 28, 32, 28, 28, 0, 4, -28, 0, 32, 32, 4, -24, 4, -18, -22, -18, -22, -22, 32, 28, 32, 28, 28, -36, -32, -36, -32, 0, 4, -50, -46, 0, 4, -36, -64, -36, -64, -64, -28, 0, -78, -28, -36, -36, 0, -50, 0, -32, -32, -4, 24, -4, -32, -32, -4, -4, 24, -4, 24, -4, -4, 32, 32, 4, -24, 4, -18, -18, 32, 32, -32, -32, 4, -46, 4, -32, -60, -32, -60, -60, -24, 4, -74, -24, -32, -32, 4, -46, 4, -54, -50, -54, -50, -50, -22, -26, 6, -22, -54, -54, -26, 2, -26, -54, -50, -54, -50, -50, -22, -26, -22, -26, 6, -22, 6, -22, -22, -54, -54, -26, 2, -26, -54, -54, -26, -26, 2, -26, 2, -26, -26, -36, -32, -36, -32, -32, -4, -8, 24, -4, -36, -36, -8, 20, -8, -36, -32, -36, -32, -32, -4, -8, -4, -8, 24, -4, 24, -4, -4, -36, -36, -8, 20, -8, -36, -36, -8, -8, 20, -8, 20, -8, -8, 50, 46, 50, 46, 46, 18, 22, -10, 18, 50, 50, 22, -6, 22, 50, 46, 50, 46, 46, 18, 22, -10, 18, 50, 50, 22, -6, 22, 32, 28, 32, 28, 28, 0, 4, -28, 0, 32, 32, 4, -24, 4, 14, 10, 14, 10, 10, -18, -14, -46, -18, 14, 14, -14, -42, -14, 32, 28, 32, 28, 28, 0, 4, -28, 0, 32, 32, 4, -24, 4, 50, 46, 50, 46, 46, 0, -4, 0, -4, -4, 50, 46, 50, 46, 46, 0, -4, 0, -4, -4, 0, -4, 0, -4, -4, -18, -22, -18, -22, -22, 32, 28, 32, 28, 28, -36, -40, -36, -40, -40, -18, -22, -18, -22, -22, 50, 46, 50, 46, 46, 50, 46, 50, 46, 46, 32, 28, 32, 28, 28, 14, 10, 14, 10, 10, 32, 28, 32, 28, 28, 18, 22, 18, 22, -18, -14, 32, 36, -18, -14, 18, 22, 18, 22, -18, -14, -18, -14, 32, 36, -18, -14, 32, 36, -18, -14, -18, -14, -36, -32, -36, -32, 0, 4, -50, -46, 0, 4, -54, -50, -54, -50, -36, -32, -36, -32, 18, 22, 18, 22, 0, 4, -18, -14, 0, 4, 18, 22, -32, -28, 18, 22, -32, -28, -32, -28, -50, -46, 0, 4, -68, -64, -50, -46, 18, 22, 18, 22, 0, 4, -18, -14, 0, 4, -10, 18, -10, 18, 18, -18, -46, 32, -18, -10, -10, -46, 4, -46, -10, 18, -10, 18, 18, -18, -46, -18, -46, 32, -18, 32, -18, -18, -10, -10, -46, 4, -46, -10, -10, -46, -46, 4, -46, 4, -46, -46, -36, -64, -36, -64, -64, -28, 0, -78, -28, -36, -36, 0, -50, 0, -54, -82, -54, -82, -82, -36, -64, -36, -64, -64, -10, 18, -10, 18, -28, 0, -46, -18, -28, 0, -10, -60, -10, -60, -60, -78, -28, -96, -78, -10, -10, -28, -46, -28, 18, 18, -18, 32, -18, 18, 18, -18, -18, 32, -18, 32, -18, -18, -36, -36, 0, -50, 0, -54, -54, -36, -36, 18, 18, 0, -18, 0, 18, -32, 18, -32, -32, -50, 0, -68, -50, 18, 18, 0, -18, 0, 50, 50, 22, -6, 22, 50, 50, 22, 22, -6, 22, -6, 22, 22, -14, -14, 14, 42, 14, 36, 36, -14, -14, 50, 50, 14, 64, 14, 50, 78, 50, 78, 78, 42, 14, 92, 42, 50, 50, 14, 64, 14, 50, 50, 22, -6, 22, 50, 50, 22, 22, -6, 22, -6, 22, 22, -14, -14, 14, 42, 14, -14, -14, 14, 42, 14, 36, 36, -14, -14, 36, 36, -14, -14, -14, -14, 50, 50, 14, 64, 14, 50, 50, 14, 14, 64, 14, 64, 14, 14, 50, 78, 50, 78, 78, 42, 14, 92, 42, 50, 50, 14, 64, 14, 50, 78, 50, 78, 78, 42, 14, 42, 14, 92, 42, 92, 42, 42, 50, 50, 14, 64, 14, 50, 50, 14, 14, 64, 14, 64, 14, 14, -32, -32, -4, 24, -4, -32, -32, -4, -4, 24, -4, 24, -4, -4, 32, 32, 4, -24, 4, -18, -18, 32, 32, -32, -32, 4, -46, 4, -32, -60, -32, -60, -60, -24, 4, -74, -24, -32, -32, 4, -46, 4, -50, -50, -22, 6, -22, -50, -50, -22, -22, 6, -22, 6, -22, -22, -32, -32, -4, 24, -4, -32, -32, -4, -4, 24, -4, 24, -4, -4, 50, 50, 22, -6, 22, 50, 50, 22, -6, 22, 32, 32, 4, -24, 4, 14, 14, -14, -42, -14, 32, 32, 4, -24, 4, 50, 50, 0, 0, 50, 50, 0, 0, 0, 0, -18, -18, 32, 32, -36, -36, -18, -18, 50, 50, 50, 50, 32, 32, 14, 14, 32, 32, 22, 22, -14, 36, -14, 22, 22, -14, -14, 36, -14, 36, -14, -14, -32, -32, 4, -46, 4, -50, -50, -32, -32, 22, 22, 4, -14, 4, 22, -28, 22, -28, -28, -46, 4, -64, -46, 22, 22, 4, -14, 4, -6, 22, -6, 22, 22, -14, -42, 36, -14, -6, -6, -42, 8, -42, -6, 22, -6, 22, 22, -14, -42, -14, -42, 36, -14, 36, -14, -14, -6, -6, -42, 8, -42, -6, -6, -42, -42, 8, -42, 8, -42, -42, -32, -60, -32, -60, -60, -24, 4, -74, -24, -32, -32, 4, -46, 4, -50, -78, -50, -78, -78, -32, -60, -32, -60, -60, -6, 22, -6, 22, -24, 4, -42, -14, -24, 4, -6, -56, -6, -56, -56, -74, -24, -92, -74, -6, -6, -24, -42, -24, 22, 22, -14, 36, -14, 22, 22, -14, -14, 36, -14, 36, -14, -14, -32, -32, 4, -46, 4, -50, -50, -32, -32, 22, 22, 4, -14, 4, 22, -28, 22, -28, -28, -46, 4, -64, -46, 22, 22, 4, -14, 4), new DifferentWaysToAddParentheses().сompute("11-4+9-18+25-7+14-28+2"));
        assertEquals(Arrays.asList(185, 265, 185, 265, 425, 89, 105, 185, 89, 297, 457, 105, 457, 265, -103, -119, -103, -119, -151, 41, 25, -103, -119, 185, 89, -103, 41, -103, 313, 473, 121, 473, 281, -119, -151, 25, -119, 425, 233, -151, 137, -151, 185, 265, 185, 265, 425, 89, 105, 185, 89, 297, 457, 105, 457, 265, -439, -567, -439, -567, -823, -439, -567, -439, -567, -823, 41, 25, -103, -119, 41, 25, -271, -287, -271, -287, 185, 89, -103, 41, -103, 185, 89, -439, -439, 41, -103, 41, -271, -271, 313, 473, 121, 473, 281, -119, -151, 25, -119, 425, 233, -151, 137, -151, 313, 473, 121, 473, 281, -623, -879, -623, -879, 25, -119, 25, -287, -287, 369, 177, -207, 81, -207, 369, 177, -879, -879, 81, -207, 81, -543, -543, -18, -8, -18, -8, 12, -30, -28, -18, -30, -4, 16, -28, 16, -8, -54, -56, -54, -56, -60, -36, -38, -54, -56, -18, -30, -54, -36, -54, -2, 18, -26, 18, -6, -56, -60, -38, -56, 12, -12, -60, -24, -60, -60, -50, -60, -50, -30, -72, -70, -60, -72, -46, -26, -70, -26, -50, -18, -8, -18, -8, 12, -30, -28, -18, -30, -4, 16, -28, 16, -8, -439, -567, -439, -567, -823, -439, -567, -439, -567, -823, -390, -504, -390, -504, -732, -684, -882, -684, -882, -1278, -390, -504, -390, -504, -732, 62, 60, -82, -84, 62, 60, -250, -252, -250, -252, -36, -38, -54, -56, -78, -80, -36, -38, -250, -252, -250, -252, -222, -224, -390, -392, -222, -224, 185, 89, -103, 41, -103, 185, 89, -439, -439, 41, -103, 41, -271, -271, -18, -30, -54, -36, -54, -60, -72, -18, -30, -439, -439, -390, -684, -390, 62, -82, 62, -250, -250, -36, -54, -78, -36, -250, -250, -222, -390, -222, 306, 466, 114, 466, 274, -126, -158, 18, -126, 418, 226, -158, 130, -158, 306, 466, 114, 466, 274, -630, -886, -630, -886, 18, -126, 18, -294, -294, 362, 170, -214, 74, -214, 362, 170, -886, -886, 74, -214, 74, -550, -550, -2, 18, -26, 18, -6, -56, -60, -38, -56, 12, -12, -60, -24, -60, -44, -24, -68, -24, -48, -2, 18, -26, 18, -6, -630, -886, -630, -886, -560, -788, -980, -1376, -560, -788, 60, -84, 60, -252, -252, -38, -56, -80, -38, -252, -252, -224, -392, -224, 362, 170, -214, 74, -214, 362, 170, -886, -886, 74, -214, 74, -550, -550, -44, -68, -116, -80, -116, -128, -152, -44, -68, -886, -886, -788, -1376, -788, 116, -172, 116, -508, -508, -80, -116, -164, -80, -508, -508, -452, -788, -452, -22, -32, -22, -32, -52, -10, -12, -22, -10, -36, -56, -12, -56, -32, 14, 16, 14, 16, 20, -4, -2, 14, 16, -22, -10, 14, -4, 14, -38, -58, -14, -58, -34, 16, 20, -2, 16, -52, -28, 20, -16, 20, -22, -32, -22, -32, -52, -10, -12, -22, -10, -36, -56, -12, -56, -32, 56, 72, 56, 72, 104, 56, 72, 56, 72, 104, -4, -2, 14, 16, -4, -2, 35, 37, 35, 37, -22, -10, 14, -4, 14, -22, -10, 56, 56, -4, 14, -4, 35, 35, -38, -58, -14, -58, -34, 16, 20, -2, 16, -52, -28, 20, -16, 20, -38, -58, -14, -58, -34, 79, 111, 79, 111, -2, 16, -2, 37, 37, -45, -21, 27, -9, 27, -45, -21, 111, 111, -9, 27, -9, 69, 69, -76, -86, -76, -86, -106, -64, -66, -76, -64, -90, -110, -66, -110, -86, -40, -38, -40, -38, -34, -58, -56, -40, -38, -76, -64, -40, -58, -40, -92, -112, -68, -112, -88, -38, -34, -56, -38, -106, -82, -34, -70, -34, -22, -32, -22, -32, -52, -10, -12, -22, -10, -36, -56, -12, -56, -32, 14, 16, 14, 16, 20, -4, -2, 14, 16, -22, -10, 14, -4, 14, -38, -58, -14, -58, -34, 16, 20, -2, 16, -52, -28, 20, -16, 20, -130, -140, -130, -140, -160, -118, -120, -130, -118, -144, -164, -120, -164, -140, -88, -98, -88, -98, -118, -76, -78, -88, -76, -102, -122, -78, -122, -98, -22, -32, -22, -32, -52, -10, -12, -22, -10, -36, -56, -12, -56, -32, -76, -86, -76, -86, -106, -64, -66, -76, -64, -90, -110, -66, -110, -86, -22, -32, -22, -32, -52, -10, -12, -22, -10, -36, -56, -12, -56, -32, -385, -495, -385, -495, -715, -385, -495, -385, -495, -715, -336, -432, -336, -432, -624, -630, -810, -630, -810, -1170, -336, -432, -336, -432, -624, 56, 72, 56, 72, 104, 56, 72, 56, 72, 104, -322, -414, -322, -414, -598, 56, 72, 56, 72, 104, -700, -900, -700, -900, -1300, -406, -522, -406, -522, -754, 56, 72, 56, 72, 104, -322, -414, -322, -414, -598, 56, 72, 56, 72, 104, 68, 70, -76, -74, 68, 70, -244, -242, -244, -242, -30, -28, -48, -46, -72, -70, -30, -28, -244, -242, -244, -242, -216, -214, -384, -382, -216, -214, -4, -2, 14, 16, -4, -2, 35, 37, 35, 37, -58, -56, -40, -38, -4, -2, 14, 16, -112, -110, -70, -68, -4, -2, -58, -56, -4, -2, -217, -215, -217, -215, -189, -187, -357, -355, -189, -187, 35, 37, 35, 37, -181, -179, 35, 37, -397, -395, -229, -227, 35, 37, -181, -179, 35, 37, 185, 89, -103, 41, -103, 185, 89, -439, -439, 41, -103, 41, -271, -271, -18, -30, -54, -36, -54, -60, -72, -18, -30, -439, -439, -390, -684, -390, 62, -82, 62, -250, -250, -36, -54, -78, -36, -250, -250, -222, -390, -222, -22, -10, 14, -4, 14, -22, -10, 56, 56, -4, 14, -4, 35, 35, -76, -64, -40, -58, -40, -22, -10, 14, -4, 14, -130, -118, -88, -76, -22, -10, -76, -64, -22, -10, -385, -385, -336, -630, -336, 56, 56, -322, 56, -700, -406, 56, -322, 56, 68, -76, 68, -244, -244, -30, -48, -72, -30, -244, -244, -216, -384, -216, -4, 14, -4, 35, 35, -58, -40, -4, 14, -112, -70, -4, -58, -4, -217, -217, -189, -357, -189, 35, 35, -181, 35, -397, -229, 35, -181, 35, 304, 464, 112, 464, 272, -128, -160, 16, -128, 416, 224, -160, 128, -160, 304, 464, 112, 464, 272, -632, -888, -632, -888, 16, -128, 16, -296, -296, 360, 168, -216, 72, -216, 360, 168, -888, -888, 72, -216, 72, -552, -552, -4, 16, -28, 16, -8, -58, -62, -40, -58, 10, -14, -62, -26, -62, -46, -26, -70, -26, -50, -4, 16, -28, 16, -8, -632, -888, -632, -888, -562, -790, -982, -1378, -562, -790, 58, -86, 58, -254, -254, -40, -58, -82, -40, -254, -254, -226, -394, -226, 360, 168, -216, 72, -216, 360, 168, -888, -888, 72, -216, 72, -552, -552, -46, -70, -118, -82, -118, -130, -154, -46, -70, -888, -888, -790, -1378, -790, 114, -174, 114, -510, -510, -82, -118, -166, -82, -510, -510, -454, -790, -454, -38, -58, -14, -58, -34, 16, 20, -2, 16, -52, -28, 20, -16, 20, -38, -58, -14, -58, -34, 79, 111, 79, 111, -2, 16, -2, 37, 37, -45, -21, 27, -9, 27, -45, -21, 111, 111, -9, 27, -9, 69, 69, -92, -112, -68, -112, -88, -38, -34, -56, -38, -106, -82, -34, -70, -34, -38, -58, -14, -58, -34, 16, 20, -2, 16, -52, -28, 20, -16, 20, -146, -166, -122, -166, -142, -104, -124, -80, -124, -100, -38, -58, -14, -58, -34, -92, -112, -68, -112, -88, -38, -58, -14, -58, -34, -551, -771, -551, -771, -481, -673, -901, -1261, -481, -673, 79, 111, 79, 111, -461, -645, 79, 111, -1001, -1401, -581, -813, 79, 111, -461, -645, 79, 111, 70, -74, 70, -242, -242, -28, -46, -70, -28, -242, -242, -214, -382, -214, -2, 16, -2, 37, 37, -56, -38, -2, 16, -110, -68, -2, -56, -2, -215, -215, -187, -355, -187, 37, 37, -179, 37, -395, -227, 37, -179, 37, 369, 177, -207, 81, -207, 369, 177, -879, -879, 81, -207, 81, -543, -543, -37, -61, -109, -73, -109, -121, -145, -37, -61, -879, -879, -781, -1369, -781, 123, -165, 123, -501, -501, -73, -109, -157, -73, -501, -501, -445, -781, -445, -45, -21, 27, -9, 27, -45, -21, 111, 111, -9, 27, -9, 69, 69, -153, -129, -81, -117, -81, -45, -21, 27, -9, 27, -261, -237, -177, -153, -45, -21, -153, -129, -45, -21, -771, -771, -673, -1261, -673, 111, 111, -645, 111, -1401, -813, 111, -645, 111, 135, -153, 135, -489, -489, -61, -97, -145, -61, -489, -489, -433, -769, -433, -9, 27, -9, 69, 69, -117, -81, -9, 27, -225, -141, -9, -117, -9, -435, -435, -379, -715, -379, 69, 69, -363, 69, -795, -459, 69, -363, 69), new DifferentWaysToAddParentheses().сompute("9-8*7+6-5*4+3*2-1"));
        assertEquals(Arrays.asList(-58776501, -58776501, 1678611, 35784219, 1678611, 104948475, 104948475, 2197539, -3766941, 36595899, 2490291, -65098485, 2197539, -3766941, -58776501, -58776501, 1678611, 35784219, 1678611, 107952603, 107952603, 107952603, 107952603, 2197539, -3766941, 2197539, -3876381, -3876381, 36595899, 2490291, -65098485, 2197539, -3766941, 36595899, 2490291, -66964437, -66964437, 2197539, -3766941, 2197539, -3876381, -3876381, -133371, -133371, -794, 73999, -794, 225675, 225675, 344, -12736, 75779, 986, -147235, 344, -12736, -430941, -430941, -298364, -223571, -298364, -133371, -133371, -794, 73999, -794, 107952603, 107952603, 107952603, 107952603, 3229803, 3229803, 166298163, 166298163, 3229803, 3229803, 1938644, -4025836, 1938644, -4135276, -4135276, 344, -12736, -297226, 344, -4135276, -4135276, -122176, -6371146, -122176, 36190949, 2085341, -65503435, 1792589, -4171891, 36190949, 2085341, -67369387, -67369387, 1792589, -4171891, 1792589, -4281331, -4281331, 75779, 986, -147235, 344, -12736, -221791, -296584, 75779, 986, -67369387, -67369387, -2013187, -103782127, -2013187, 1938644, -4025836, 1938644, -4135276, -4135276, 344, -12736, -297226, 344, -4135276, -4135276, -122176, -6371146, -122176, 68444838, 68444838, -1953549, -41668632, -1953549, -122208588, -122208588, -2557827, 4387653, -42613812, -2898729, 75806622, -2557827, 4387653, 68444838, 68444838, -1953549, -41668632, -1953549, -125706816, -125706816, -125706816, -125706816, -2557827, 4387653, -2557827, 4515093, 4515093, -42613812, -2898729, 75806622, -2557827, 4387653, -42613812, -2898729, 77979474, 77979474, -2557827, 4387653, -2557827, 4515093, 4515093, 124401, 124401, -8176, -82969, -8176, -234645, -234645, -9314, 3766, -84749, -9956, 138265, -9314, 3766, 135258, 135258, 2681, -72112, 2681, -223788, -223788, 1543, 14623, -73892, 901, 149122, 1543, 14623, -174477, -174477, -307054, -381847, -307054, 123093, 123093, -9484, -84277, -9484, 481878, 481878, 349301, 274508, 349301, 124401, 124401, -8176, -82969, -8176, 135258, 135258, 2681, -72112, 2681, 107410740, 107410740, 107410740, 107410740, 2687940, 2687940, 165756300, 165756300, 2687940, 2687940, -125706816, -125706816, -125706816, -125706816, 2227620, 2227620, -3722016, -3722016, 166012764, 166012764, 2944404, 2944404, -193669776, -193669776, 2227620, 2227620, -3722016, -3722016, 1937506, -4026974, 1937506, -4136414, -4136414, -794, -13874, -298364, -794, -4136414, -4136414, -123314, -6372284, -123314, -2256257, 4689223, -2256257, 4816663, 4816663, -9314, 3766, 1543, 14623, -308192, -10622, 348163, -9314, 1543, -4116674, -4116674, -103574, -6352544, -103574, 4816663, 4816663, -85934, 142063, -6362372, -113402, 7421083, -85934, 142063, 36189169, 2083561, -65505215, 1790809, -4173671, 36189169, 2083561, -67371167, -67371167, 1790809, -4173671, 1790809, -4283111, -4283111, 73999, -794, -149015, -1436, -14516, -223571, -298364, 73999, -794, -67371167, -67371167, -2014967, -103783907, -2014967, 1936864, -4027616, 1936864, -4137056, -4137056, -1436, -14516, -299006, -1436, -4137056, -4137056, -123956, -6372926, -123956, -42142112, -2427029, 76278322, -2086127, 4859353, -42142112, -2427029, 78451174, 78451174, -2086127, 4859353, -2086127, 4986793, 4986793, -84749, -9956, 138265, -9314, 3766, -73892, 901, 149122, 1543, 14623, -383627, -308834, -86057, -11264, 272728, 347521, -84749, -9956, -73892, 901, -67034600, -67034600, -1678400, -103447340, -1678400, 78451174, 78451174, -1391120, 2321974, -103607396, -1838456, 120866014, -1391120, 2321974, 1937506, -4026974, 1937506, -4136414, -4136414, -794, -13874, -298364, -794, -4136414, -4136414, -123314, -6372284, -123314, -2256257, 4689223, -2256257, 4816663, 4816663, -9314, 3766, 1543, 14623, -308192, -10622, 348163, -9314, 1543, -4116674, -4116674, -103574, -6352544, -103574, 4816663, 4816663, -85934, 142063, -6362372, -113402, 7421083, -85934, 142063), new DifferentWaysToAddParentheses().сompute("987-456*12+654-234*21+321-890"));
    }
}
